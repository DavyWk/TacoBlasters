<!DOCTYPE html>
<head>
<<<<<<< HEAD
=======
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
	
	<link rel="stylesheet" href="./inject/browser_action.html">
>>>>>>> 8010fa887e1a6f4df56dd527b611baedca10c1d2
</head>



<div id="mainPopup">
	<h1>Welcome to the TacoBlaster Search Engine</h1>
	<p>What would you like to search for in your video?</p>

	<form>
		<input id="mysearch" type="text" placeholder="Search">
		<button id="submit">Submit</button>
	</form>

	<div ng-app="myApp" ng-controller="myCtrller">
		<div ng-repeat="caption in captions">
			<div style="display:inline">
			<script type="text/javascript" src="angular.js"></script>
				<a href="#" id="time">00:00:23</a>
				<script type="text/javascript" src="browser_action.js"></script>
				<a ng-click="goToTime($index)" id="time">{{ caption.time }}</a>
			</div>

			<div style="display:inline">
				- {{ caption.text }}
			</div>
		</div>
	</div>
</div>


<script>
			$scope.goToTime = function(index) {
					var unconvertedTime = $scope.captions[index].time;
					var a = unconvertedTime.split(':');
					var timeInSeconds = (+a[0]) * 60 * 60 + (+a[1]) * 60 + (+a[2]);

					// doesn't work with video within playlist
					var url = window.location.href;
					var re = /[^=]*$/; // get everything after the equal sign
					var videoId = re.exec(url);
					var link = "https://www.youtube.com/watch?v=" + videoId + "&t=" + timeInSeconds + "s";

					window.open(link);
			};
	}]);
</script>
